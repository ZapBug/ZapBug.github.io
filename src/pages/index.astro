---
import '../styles/global.css';
import { Image } from 'astro:assets';
import Head from '../components/Head.astro';
import avatarImage from '../assets/avatar.png';
import qrcodeImage from '../assets/qrcode.jpg';
---

<html lang="zh-CN" data-theme="dark">
  <Head title="ZapBug 个人主页" />
  <body>
    <!-- 1. 英雄区 -->
    <section id="hero-section" class="hero bg-base-200 min-h-screen">
      <!-- 内容层 -->
      <div
        id="hero-content-wrapper"
        class="hero-content animate-on-scroll is-visible flex-col gap-12 lg:flex-row-reverse lg:gap-16"
      >
        <Image
          src={avatarImage}
          alt="ZapBug 的头像"
          width={256}
          height={256}
          format="webp"
          loading="eager"
          class="h-48 w-48 rounded-full object-cover shadow-2xl md:h-64 md:w-64"
        />
        <!-- 添加一个分隔 div 来创建间距 -->
        <div class="w-16 flex-shrink-0 md:w-24"></div>

        <!-- 文本块 -->
        <div class="text-center lg:text-left">
          <h1 class="text-4xl font-bold md:text-5xl lg:text-6xl">ZapBug</h1>

          <p class="mt-6 text-xl text-slate-400 md:text-2xl">一位热爱编程的全栈开发者</p>

          <p class="mt-6 text-base md:text-lg lg:whitespace-nowrap">
            专注于前后端技术栈, 致力于解决复杂问题, 并乐于分享我的思考与实践。
          </p>

          <a href="#projects" class="btn btn-primary mt-6">我的项目</a>
        </div>
      </div>
    </section>

    <!-- 主体内容容器 -->
    <main class="w-full space-y-24 px-6 sm:px-8 md:px-16 lg:px-24 xl:px-32 2xl:px-48">
      <section id="skills" class="mt-20">
        <h2 class="mb-12 text-center text-3xl font-bold">技术能力</h2>
        <div class="grid grid-cols-1 gap-x-8 gap-y-12 md:grid-cols-3">
          <!-- 前端 -->
          <div class="text-center">
            <h3 class="mb-4 text-lg font-semibold text-slate-400">前端</h3>
            <div class="flex flex-wrap justify-center gap-3">
              <div class="badge badge-lg badge-outline">JavaScript</div>
              <div class="badge badge-lg badge-outline">TypeScript</div>
              <div class="badge badge-lg badge-outline">Vue</div>
              <div class="badge badge-lg badge-outline">Astro</div>
              <div class="badge badge-lg badge-outline">Bootstrap</div>
              <div class="badge badge-lg badge-outline">Android</div>
              <div class="badge badge-lg badge-outline">uni-app</div>
            </div>
          </div>

          <!-- 后端 & 数据 -->
          <div class="text-center">
            <h3 class="mb-4 text-lg font-semibold text-slate-400">后端 & 数据</h3>
            <div class="flex flex-wrap justify-center gap-3">
              <div class="badge badge-lg badge-outline">Node.js</div>
              <div class="badge badge-lg badge-outline">Java</div>
              <div class="badge badge-lg badge-outline">Python</div>
              <div class="badge badge-lg badge-outline">MySQL</div>
              <div class="badge badge-lg badge-outline">Redis</div>
              <div class="badge badge-lg badge-outline">MongoDB</div>
              <div class="badge badge-lg badge-outline">Elasticsearch</div>
            </div>
          </div>

          <!-- 底层 & 工具 -->
          <div class="text-center">
            <h3 class="mb-4 text-lg font-semibold text-slate-400">底层 & 工具</h3>
            <div class="flex flex-wrap justify-center gap-3">
              <div class="badge badge-lg badge-outline">Linux</div>
              <div class="badge badge-lg badge-outline">Nginx</div>
              <div class="badge badge-lg badge-outline">Docker</div>
              <div class="badge badge-lg badge-outline">Kubernetes</div>
              <div class="badge badge-lg badge-outline">Git</div>
              <div class="badge badge-lg badge-outline">GitHub Actions</div>
              <div class="badge badge-lg badge-outline">C++</div>
            </div>
          </div>
        </div>
      </section>
      <!-- 3. 精选项目 -->
      <section id="projects" class="mt-18">
        <h2 class="mb-8 text-center text-3xl font-bold">精选项目</h2>
        <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
          <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
              <h3 class="card-title">在线投票系统</h3>

              <ul class="custom-list text-base-content/80 space-y-3">
                <li>
                  <span class="list-icon">❯</span>
                  <span>采用传统的 Java Web 模式，整合 JSP, Servlet 与 MyBatis。</span>
                </li>
                <li>
                  <span class="list-icon">❯</span>
                  <span>实现了候选人管理、用户管理、投票与投票结果统计等功能。</span>
                </li>
                <li>
                  <span class="list-icon">❯</span>
                  <span>基于 HTTP Session 设计并实现了用户身份验证与防刷票机制。</span>
                </li>
              </ul>
              <div class="card-actions mt-4 justify-end">
                <a
                  href="https://github.com/ZapBug/vote-system"
                  target="_blank"
                  class="btn btn-primary">源码</a
                >
              </div>
            </div>
          </div>

          <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
              <h3 class="card-title">在线考试系统</h3>

              <ul class="custom-list text-base-content/80 space-y-3">
                <li>
                  <span class="list-icon">❯</span>
                  <span>构建于现代化的前后端分离架构之上 (Vue & Spring Boot)。</span>
                </li>
                <li>
                  <span class="list-icon">❯</span>
                  <span>实现了在线答题、自动批卷、错题记录与系统管理等核心功能。</span>
                </li>
                <li>
                  <span class="list-icon">❯</span>
                  <span>通过集成人脸识别 API 与 Apache Shiro，确保了考生身份真实性与系统安全。</span
                  >
                </li>
              </ul>
              <div class="card-actions mt-4 justify-end">
                <a
                  href="https://github.com/ZapBug/online-exam-system"
                  target="_blank"
                  class="btn btn-primary">源码</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- 4. 公众号推广区 -->
        <section id="contact" class="bg-base-200 mt-24 rounded-lg p-6 text-center md:p-8 lg:p-12">
          <h2 class="mb-4 text-3xl font-bold">关注我的公众号</h2>
          <div class="flex flex-col items-center justify-center gap-8 lg:flex-row">
            <!-- 二维码 -->
            <div class="flex-shrink-0">
              <Image
                src={qrcodeImage}
                alt="公众号二维码"
                width={160}
                height={160}
                format="webp"
                class="h-32 w-32 rounded-md shadow-lg md:h-40 md:w-40"
              />
            </div>

            <!-- 文本块 -->
            <div class="lg:text-left">
              <p class="mb-2 text-lg">欢迎关注我的公众号 「灭Bug」！</p>

              <!-- 只在小屏幕上限制最大宽度，大屏幕上则不限制 -->
              <p class="max-w-md lg:max-w-none">
                在这里，我会定期分享关于编程技术、项目实战的思考。扫描左侧二维码，和我一起交流进步！
              </p>
            </div>
          </div>
        </section>
      </section>

      <script>
        import { initializeScrollAnimations } from '../scripts/scroll-animations.js';
        import { initializeCopyToClipboard } from '../scripts/copy-to-clipboard.js';

        document.addEventListener('DOMContentLoaded', () => {
          initializeScrollAnimations();
          initializeCopyToClipboard();
        });
      </script>

      <script is:inline>
        // 禁用浏览器的自动滚动恢复功能
        if ('scrollRestoration' in history) {
          history.scrollRestoration = 'manual';
        }
        window.scrollTo(0, 0);
      </script>
    </main>

    <!-- 5. 页脚 -->
    <footer class="footer footer-center bg-base-300 text-base-content mt-12 p-10">
      <div>
        <div class="grid grid-flow-col gap-4">
          <a href="https://github.com/ZapBug" target="_blank" class="link link-hover">GitHub</a>
          <span
            id="email-span"
            class="link link-hover cursor-pointer"
            data-original-text="zapbug@yeah.net"
            >邮箱
          </span>
        </div>
      </div>
      <div>
        <p>Copyright © {new Date().getFullYear()} - All right reserved by ZapBug</p>
      </div>
    </footer>
  </body>
</html>
